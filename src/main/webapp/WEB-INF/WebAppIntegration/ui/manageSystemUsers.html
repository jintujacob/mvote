<style>

</style>


<div id="container">
  Add a system user<br>
  
  <table>
    <tr>
        <td align="right">UID: </td> <td> <input id="uid" type="text"> </td> </tr>
    <tr>
        <td align="right">Password: </td> <td>  <input id="password" type="password"> </td></tr>
    <tr>
        <td align="right">First Name </td> <td> <input id="namefirst" type="text"> </td></tr>
    <tr>
        <td align="right">Last Name </td> <td> <input id="namelast" type="text"> </td></tr>
    <tr>
        <td align="right">Email: </td> <td> <input id="email" type="text"> </td></tr>
    <tr>
        <td align="right">User Type </td> 
        <td> 
               <select id="usertype">
		           <option value="none">none</option>
		           <option value="su">superuser</option>
		           <option value="va">voteradmin</option>
		           <option value="pu">publicuser</option>
		       </select>
        </td></tr>
    <tr>
        <td colspan="2" align="right"> <button id="btn_add">Add</button> </td></tr>
     
  </table>
  
  
  
  
   
</div>    


<script type="text/javascript">

$(document).ready(function(){
	
    $("#btn_add").click(function(){
    	uid=$("#uid").val();
    	password=$("#password").val();
    	namefirst=$("#namefirst").val();
    	namelast=$("#namelast").val();
    	email=$("#email").val();
    	usertype=$("#usertype").val();
    	
    	if(uid!="" && namefirst!="" && namelast!="" && email!="" && password!="" && usertype!="none" )
    	{
    		addSystemUser(uid,namefirst,namelast,email,password, usertype);
    	}
});


function addSystemUser(uid,namefirst,namelast,email,password, usertype)
{
	obj = { "uid" : uid,
	        "nameFirst" : namefirst,
	        "nameLast" : namelast,
	        "email" : email,
	        "password" : password,
	        "userType" : usertype
	      };
	jsonString =JSON.stringify(obj);
	console.log(jsonString);
	$.ajax({
        type: "POST",
        url: 'http://localhost:8080/mvote/access/addSystemUser',
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        data: jsonString,
        success: function(response) {
           
        },
        error:function(){
            alert("Connection Error. Network failure or Server unavailable");
        }
    });  
}})
</script>
